import{Q as be,D as K,i as Ye,f as pe,J as ke,r as Ae,K as Oe,L as we,_ as Re,t as Pe,P as re,C as O,g as ge,a as Z,d as L,a0 as Xe,e as $e,h as Ne,O as Be,a1 as Ge,c as Te,$ as Qe,I as Ve,o as Ze,b as je,N as Je}from"../chunks/disclose-version.CO_dDP94.js";import{p as Ce,a as Ee,u as z,g as M,a3 as Ke,k as F,h as C}from"../chunks/runtime.ydBjxQlf.js";import{e as ye}from"../chunks/each.DjCXWW3j.js";import{P as Fe,p as He}from"../chunks/Project.BPfTwcNy.js";class ve extends Map{constructor(t,s=et){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(ze(this,t))}has(t){return super.has(ze(this,t))}set(t,s){return super.set(Ue(this,t),s)}delete(t){return super.delete(We(this,t))}}function ze({_intern:e,_key:t},s){const n=t(s);return e.has(n)?e.get(n):s}function Ue({_intern:e,_key:t},s){const n=t(s);return e.has(n)?e.get(n):(e.set(n,s),s)}function We({_intern:e,_key:t},s){const n=t(s);return e.has(n)&&(s=e.get(n),e.delete(n)),s}function et(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tt(e,t,...s){return nt(e,Array.from,t,s)}function nt(e,t,s,n){return function i(l,o){if(o>=n.length)return s(l);const r=new ve,d=n[o++];let c=-1;for(const a of l){const v=d(a,++c,l),u=r.get(v);u?u.push(a):r.set(v,[a])}for(const[a,v]of r)r.set(a,i(v,o));return t(r)}(e,0)}const me=Math.PI,_e=2*me,B=1e-6,st=_e-B;function Se(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function rt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Se;const s=10**t;return function(n){this._+=n[0];for(let i=1,l=n.length;i<l;++i)this._+=Math.round(arguments[i]*s)/s+n[i]}}class at{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Se:rt(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,n,i){this._append`Q${+t},${+s},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,s,n,i,l,o){this._append`C${+t},${+s},${+n},${+i},${this._x1=+l},${this._y1=+o}`}arcTo(t,s,n,i,l){if(t=+t,s=+s,n=+n,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,r=this._y1,d=n-t,c=i-s,a=o-t,v=r-s,u=a*a+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(u>B)if(!(Math.abs(v*d-c*a)>B)||!l)this._append`L${this._x1=t},${this._y1=s}`;else{let f=n-o,h=i-r,p=d*d+c*c,_=f*f+h*h,y=Math.sqrt(p),$=Math.sqrt(u),b=l*Math.tan((me-Math.acos((p+u-_)/(2*y*$)))/2),x=b/$,k=b/y;Math.abs(x-1)>B&&this._append`L${t+x*a},${s+x*v}`,this._append`A${l},${l},0,0,${+(v*f>a*h)},${this._x1=t+k*d},${this._y1=s+k*c}`}}arc(t,s,n,i,l,o){if(t=+t,s=+s,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let r=n*Math.cos(i),d=n*Math.sin(i),c=t+r,a=s+d,v=1^o,u=o?i-l:l-i;this._x1===null?this._append`M${c},${a}`:(Math.abs(this._x1-c)>B||Math.abs(this._y1-a)>B)&&this._append`L${c},${a}`,n&&(u<0&&(u=u%_e+_e),u>st?this._append`A${n},${n},0,1,${v},${t-r},${s-d}A${n},${n},0,1,${v},${this._x1=c},${this._y1=a}`:u>B&&this._append`A${n},${n},0,${+(u>=me)},${v},${this._x1=t+n*Math.cos(l)},${this._y1=s+n*Math.sin(l)}`)}rect(t,s,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function it(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Ie=Symbol("implicit");function De(){var e=new ve,t=[],s=[],n=Ie;function i(l){let o=e.get(l);if(o===void 0){if(n!==Ie)return n;e.set(l,o=t.push(l)-1)}return s[o%s.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new ve;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(s=Array.from(l),i):s.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return De(t,s).unknown(n)},it.apply(i,arguments),i}function ut(e){for(var t=e.length/6|0,s=new Array(t),n=0;n<t;)s[n]="#"+e.slice(n*6,++n*6);return s}const lt=ut("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function w(e){return function(){return e}}const qe=Math.abs,A=Math.atan2,N=Math.cos,ot=Math.max,de=Math.min,q=Math.sin,V=Math.sqrt,P=1e-12,H=Math.PI,ie=H/2,ae=2*H;function ct(e){return e>1?0:e<-1?H:Math.acos(e)}function Le(e){return e>=1?ie:e<=-1?-ie:Math.asin(e)}function ft(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const n=Math.floor(s);if(!(n>=0))throw new RangeError(`invalid digits: ${s}`);t=n}return e},()=>new at(t)}function ht(e){return e.innerRadius}function pt(e){return e.outerRadius}function gt(e){return e.startAngle}function dt(e){return e.endAngle}function yt(e){return e&&e.padAngle}function vt(e,t,s,n,i,l,o,r){var d=s-e,c=n-t,a=o-i,v=r-l,u=v*d-a*c;if(!(u*u<P))return u=(a*(t-l)-v*(e-i))/u,[e+u*d,t+u*c]}function se(e,t,s,n,i,l,o){var r=e-s,d=t-n,c=(o?l:-l)/V(r*r+d*d),a=c*d,v=-c*r,u=e+a,f=t+v,h=s+a,p=n+v,_=(u+h)/2,y=(f+p)/2,$=h-u,b=p-f,x=$*$+b*b,k=i-l,R=u*p-h*f,E=(b<0?-1:1)*V(ot(0,k*k*x-R*R)),S=(R*b-$*E)/x,D=(-R*$-b*E)/x,I=(R*b+$*E)/x,T=(-R*$+b*E)/x,j=S-_,g=D-y,m=I-_,X=T-y;return j*j+g*g>m*m+X*X&&(S=I,D=T),{cx:S,cy:D,x01:-a,y01:-v,x11:S*(i/k-1),y11:D*(i/k-1)}}function mt(){var e=ht,t=pt,s=w(0),n=null,i=gt,l=dt,o=yt,r=null,d=ft(c);function c(){var a,v,u=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-ie,p=l.apply(this,arguments)-ie,_=qe(p-h),y=p>h;if(r||(r=a=d()),f<u&&(v=f,f=u,u=v),!(f>P))r.moveTo(0,0);else if(_>ae-P)r.moveTo(f*N(h),f*q(h)),r.arc(0,0,f,h,p,!y),u>P&&(r.moveTo(u*N(p),u*q(p)),r.arc(0,0,u,p,h,y));else{var $=h,b=p,x=h,k=p,R=_,E=_,S=o.apply(this,arguments)/2,D=S>P&&(n?+n.apply(this,arguments):V(u*u+f*f)),I=de(qe(f-u)/2,+s.apply(this,arguments)),T=I,j=I,g,m;if(D>P){var X=Le(D/u*q(S)),U=Le(D/f*q(S));(R-=X*2)>P?(X*=y?1:-1,x+=X,k-=X):(R=0,x=k=(h+p)/2),(E-=U*2)>P?(U*=y?1:-1,$+=U,b-=U):(E=0,$=b=(h+p)/2)}var G=f*N($),Q=f*q($),W=u*N(k),ee=u*q(k);if(I>P){var te=f*N(b),ne=f*q(b),ue=u*N(x),le=u*q(x),Y;if(_<H)if(Y=vt(G,Q,ue,le,te,ne,W,ee)){var oe=G-Y[0],ce=Q-Y[1],fe=te-Y[0],he=ne-Y[1],xe=1/q(ct((oe*fe+ce*he)/(V(oe*oe+ce*ce)*V(fe*fe+he*he)))/2),Me=V(Y[0]*Y[0]+Y[1]*Y[1]);T=de(I,(u-Me)/(xe-1)),j=de(I,(f-Me)/(xe+1))}else T=j=0}E>P?j>P?(g=se(ue,le,G,Q,f,j,y),m=se(te,ne,W,ee,f,j,y),r.moveTo(g.cx+g.x01,g.cy+g.y01),j<I?r.arc(g.cx,g.cy,j,A(g.y01,g.x01),A(m.y01,m.x01),!y):(r.arc(g.cx,g.cy,j,A(g.y01,g.x01),A(g.y11,g.x11),!y),r.arc(0,0,f,A(g.cy+g.y11,g.cx+g.x11),A(m.cy+m.y11,m.cx+m.x11),!y),r.arc(m.cx,m.cy,j,A(m.y11,m.x11),A(m.y01,m.x01),!y))):(r.moveTo(G,Q),r.arc(0,0,f,$,b,!y)):r.moveTo(G,Q),!(u>P)||!(R>P)?r.lineTo(W,ee):T>P?(g=se(W,ee,te,ne,u,-T,y),m=se(G,Q,ue,le,u,-T,y),r.lineTo(g.cx+g.x01,g.cy+g.y01),T<I?r.arc(g.cx,g.cy,T,A(g.y01,g.x01),A(m.y01,m.x01),!y):(r.arc(g.cx,g.cy,T,A(g.y01,g.x01),A(g.y11,g.x11),!y),r.arc(0,0,u,A(g.cy+g.y11,g.cx+g.x11),A(m.cy+m.y11,m.cx+m.x11),y),r.arc(m.cx,m.cy,T,A(m.y11,m.x11),A(m.y01,m.x01),!y))):r.arc(0,0,u,k,x,y)}if(r.closePath(),a)return r=null,a+""||null}return c.centroid=function(){var a=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,v=(+i.apply(this,arguments)+ +l.apply(this,arguments))/2-H/2;return[N(v)*a,q(v)*a]},c.innerRadius=function(a){return arguments.length?(e=typeof a=="function"?a:w(+a),c):e},c.outerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:w(+a),c):t},c.cornerRadius=function(a){return arguments.length?(s=typeof a=="function"?a:w(+a),c):s},c.padRadius=function(a){return arguments.length?(n=a==null?null:typeof a=="function"?a:w(+a),c):n},c.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:w(+a),c):i},c.endAngle=function(a){return arguments.length?(l=typeof a=="function"?a:w(+a),c):l},c.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:w(+a),c):o},c.context=function(a){return arguments.length?(r=a??null,c):r},c}function _t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $t(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function xt(e){return e}function Mt(){var e=xt,t=$t,s=null,n=w(0),i=w(ae),l=w(0);function o(r){var d,c=(r=_t(r)).length,a,v,u=0,f=new Array(c),h=new Array(c),p=+n.apply(this,arguments),_=Math.min(ae,Math.max(-ae,i.apply(this,arguments)-p)),y,$=Math.min(Math.abs(_)/c,l.apply(this,arguments)),b=$*(_<0?-1:1),x;for(d=0;d<c;++d)(x=h[f[d]=d]=+e(r[d],d,r))>0&&(u+=x);for(t!=null?f.sort(function(k,R){return t(h[k],h[R])}):s!=null&&f.sort(function(k,R){return s(r[k],r[R])}),d=0,v=u?(_-c*b)/u:0;d<c;++d,p=y)a=f[d],x=h[a],y=p+(x>0?x*v:0)+b,h[a]={data:r[a],index:d,value:x,startAngle:p,endAngle:y,padAngle:$};return h}return o.value=function(r){return arguments.length?(e=typeof r=="function"?r:w(+r),o):e},o.sortValues=function(r){return arguments.length?(t=r,s=null,o):t},o.sort=function(r){return arguments.length?(s=r,t=null,o):s},o.startAngle=function(r){return arguments.length?(n=typeof r=="function"?r:w(+r),o):n},o.endAngle=function(r){return arguments.length?(i=typeof r=="function"?r:w(+r),o):i},o.padAngle=function(r){return arguments.length?(l=typeof r=="function"?r:w(+r),o):l},o}function J(e,t,s){this.k=e,this.x=t,this.y=s}J.prototype={constructor:J,scale:function(e){return e===1?this:new J(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new J(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};J.prototype;var bt=Xe('<path class="svelte-68zbf1"></path>'),kt=$e('<li class="svelte-68zbf1"><span class="swatch svelte-68zbf1"></span> <em class="svelte-68zbf1"> </em></li>'),At=$e('<div class="chart-legend-container svelte-68zbf1"><svg viewBox="-50 -50 100 100" class="svelte-68zbf1"></svg> <div class="legend-container svelte-68zbf1"><ul class="legend svelte-68zbf1"></ul></div></div>');function wt(e,t){Ee(t,!1);let s=mt().innerRadius(0).outerRadius(50),n=be(t,"data",8,()=>[]),i=be(t,"selectedIndex",12,()=>-1),l=Mt().value(f=>f.value),o=O(),r=O(),d=De(lt);K(()=>{Ke(n()),F(()=>{C(o,l(n()))})}),K(()=>{M(o),F(()=>{C(r,M(o).map(f=>s(f)))})}),Ye();var c=ge(e,!0,At),a=Z(c),v=L(L(a,!0)),u=Z(v);ye(a,()=>M(r),9,(f,h,p)=>{var _=ge(f,!0,bt);ke(_,"fill",()=>d(z(p)));var y;Ae(()=>{y!==(y=z(h))&&Oe(_,"d",y),we(_,"selected",i()===z(p))}),Re("click",_,$=>i(i()===z(p)?-1:z(p)),!1),pe(f,_)},null),ye(u,n,9,(f,h,p)=>{var _=ge(f,!0,kt),y=Z(_),$=L(y,!0),b=L($),x=Z(b);ke(_,"style",()=>`--color: ${re(d(z(p)))}`),Ae(()=>{we(_,"selected",i()===z(p)),Pe($,` ${re(z(h).label)} `),Pe(x,`(${re(z(h).value)})`)}),Re("click",_,k=>i(i()===z(p)?-1:z(p)),!1),pe(f,_)},null),pe(e,c),Ce()}var Rt=$e('<h1> </h1> <!> <input type="search" aria-label="Search projects" placeholder="🔍 Search projects…" class="svelte-1rqfcuz"> <div class="projects svelte-1rqfcuz"></div>',!0);function It(e,t){Ee(t,!1);let s=O(""),n=O(),i=O(-1),l=O(),o=O(),r=O();K(()=>{M(s),F(()=>{C(n,He.filter(h=>Object.values(h).join(`
`).toLowerCase().includes(M(s).toLowerCase())))})}),K(()=>{M(o),M(n),M(i),F(()=>{C(o,{});let h=tt(M(n),p=>p.length,p=>p.year);C(o,h.map(([p,_])=>({value:_,label:p}))),C(l,M(i)>-1?M(o)[M(i)].label:null)})}),K(()=>{M(l),M(n),F(()=>{C(r,M(l)?M(n).filter(h=>h.year===M(l)):M(n))})}),Ye();var d=Ze(e,!0,Rt);Ne(h=>{Qe.title="Projects"});var c=je(d),a=Z(c),v=L(L(c,!0)),u=L(L(v,!0));Ve(u);var f=L(L(u,!0));Be(a,()=>`${re(M(r).length)} Projects`),wt(v,{get data(){return M(o)},get selectedIndex(){return M(i)},set selectedIndex(h){C(i,h)}}),Ge(u,()=>M(s),h=>C(s,h)),ye(f,()=>M(r),9,(h,p,_)=>{var y=Je(h),$=je(y);Fe($,{get info(){return z(p)}}),Te(h,y)},null),Te(e,d),Ce()}export{It as component};
